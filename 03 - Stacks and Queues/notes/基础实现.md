# 基础实现



## 一、Strawman 实现的定位与设计简化

“Strawman implementation（稻草人实现）” 是针对栈的**基础、简化版实现**，核心目标是通过 “降低复杂度” 引入栈的实现思路，为后续更完善的实现（如基于链表的实现）做铺垫。其设计上做了两处关键简化，以减少初期实现难度：

1. **类型限制**：仅支持存储`String`类型元素，不支持泛型（与第一节定义的通用`Stack<Item>` API 不同）；
2. **容量依赖**：要求客户端在创建栈实例时，提前指定栈的最大容量（`max`），栈无法动态扩展容量。



## 二、Strawman 栈的 API 定义

Strawman 实现通过`StrawStack`类定义核心操作，API 明确了类的构造方式与方法功能，具体如下表所示：

| 方法 / 构造函数          | 功能描述                                      |
| ------------------------ | --------------------------------------------- |
| `StrawStack(int max)`    | 构造一个最大容量为`max`的栈，用于存储`String` |
| `void push(String item)` | 向栈顶添加一个`String`类型元素`item`          |
| `String pop()`           | 移除并返回栈顶元素（即最近添加的`String`）    |
| `boolean isEmpty()`      | 判断栈是否为空（空则返回`true`）              |
| `int size()`             | 返回栈中当前存储的`String`元素个数            |

该 API 的设计依据是 “用数组存储元素”—— 提前指定的`max`决定了数组的长度，这也是后续实现的核心数据结构选择。



## 三、Strawman 实现的核心局限

尽管 StrawStack 能完成基本的栈操作，但它**不满足第一节定义的 “栈 API 性能规格”**，存在三处关键局限，使其仅适用于简单场景，无法作为通用栈实现：

1. **固定容量限制**：栈的最大容量由客户端初始化时指定，无法动态扩展 —— 若`push`元素数量超过`max`，会导致数组越界（未定义行为）；若元素数量远小于`max`，则数组会存在大量未使用空间，造成内存浪费。
2. **类型单一**：仅支持`String`类型，无法存储其他类型（如`int`、自定义类），与第一节 “参数化数据类型（泛型）” 的设计目标不符。
3. **不兼容通用 API**：第一节定义的`Stack<Item>` API 无需客户端指定容量，且支持泛型，但 StrawStack 缺少这些特性，因此不算是真正意义上的 “栈抽象实现”。

这些局限表明，Strawman 实现仅为 “入门示例”，需后续通过 “链表” 等更灵活的数据结构，实现满足性能规格的通用栈（如支持泛型、动态容量、线性内存占用）。